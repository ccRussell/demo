## Hbase基本概念

### 行存储和列存储

行存储会将一个个完整的数据行存储在数据页中

列式存储：

- 每一列单独存放，数据即是索引
- 只访问涉及到的列
- 一行数据包含一个列或者多个列，**某一行的某一列**会使用一个**单独的cell**来进行存储。行式存储则会将一行数据作为一个整体来进行存储

何时使用行式存储：

> 大部分时间都是关注整张表的内容，而不是单独某几列，并且所关注的内容是不需要经过聚合运算的，那么这时可以使用行式存储。

何时使用列式存储：

>只关注某几列的内容，而且有频繁的聚合需要。

### 稀疏矩阵

稀疏是指：空列不占用存储空间。

和mysql对比，当我们想要在一张表中存储数据的时候，需要提前定义好表的结构。并且就算某一列中没有数据，它仍然是占用存储空间的

hbase则是每一列都会有一个单独的cell存储，存储的是半结构化的数据。如果某一列中没有数据，则不会占用任何存储空间

### Table（表）

Hbase中的表的概念

### RowKey（行键）

用来表示唯一一行记录的主键，Hbase中的数据是按照RowKey的字典顺序进行排序的，所有的查询都只能依赖这一排序维度。

### Cloumn Family（列组）

Hbase是列式数据库，单个列的访问效率会非常高，但是在具体使用中也会有查询多个列的场景。因此列式数据库定义了列组的概念：将多个经常一起访问的数据列的值存放在一起，如果读取的数据列属于相同的列组，则可以从相同的地方一次性读取多个列的数值，避免了多个数据列的合并，提高了效率。

在Hbase中，每一个列都必须归属于一个CF，这个归属关系是在写数据时指定的，而不是建表时预先定义的

### Qualifier（列）

某一列的列名。多个Qualifier组成一个CF

### TimeStamp（时间戳）

Timestamp代表时间戳，默认由系统指定，用户也可以显示设置。使用不同的时间戳来区分不同的版本。一个单元格的不同版本的值按照时间戳降序排列在一起，在读取的时候优先取最新的值。

### Cell

一个具体的数据点

**上述概念的关系就是{table, rowkey, cf, qualifier, timestamp} -> cell**

